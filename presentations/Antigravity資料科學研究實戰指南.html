<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antigravity 資料科學研究實戰指南 | CQI365</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cqi: {
                            base: '#0f172a',    // Slate 900
                            primary: '#0f766e', // Teal 700
                            secondary: '#155e75', // Cyan 800
                            accent: '#059669',  // Emerald 600
                            light: '#f8fafc',   // Slate 50
                            muted: '#475569',   // Slate 600
                        }
                    },
                    fontFamily: {
                        sans: ['Noto Sans TC', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Animation Classes */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Code Block Styling */
        .code-window {
            background: #1e293b;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .code-header {
            background: #0f172a;
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #334155;
        }
        .code-dots {
            display: flex;
            gap: 6px;
        }
        .dot { width: 10px; height: 10px; border-radius: 50%; }
        .dot-red { background: #ef4444; }
        .dot-yellow { background: #f59e0b; }
        .dot-green { background: #10b981; }

        /* Typography Override */
        h1, h2, h3, h4, h5, h6 {
            color: #0f172a;
        }
        p {
            color: #334155;
            line-height: 1.8;
        }
        
        /* Sidebar Active State */
        .nav-link.active {
            background-color: #f0fdfa; /* Teal 50 */
            color: #0f766e; /* Teal 700 */
            border-right: 4px solid #0f766e;
            font-weight: 700;
        }

        /* Hero Overlay */
        .hero-overlay {
            background: linear-gradient(to right, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7));
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased">

    <header class="fixed top-0 w-full z-50 bg-white/95 backdrop-blur shadow-sm border-b border-slate-200 h-16 transition-all duration-300">
        <div class="container mx-auto px-4 h-full flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-cqi-primary rounded flex items-center justify-center text-white">
                    <i class="fa-solid fa-hospital-user"></i>
                </div>
                <div>
                    <span class="text-xl font-bold text-cqi-primary tracking-tight block leading-none">CQI365</span>
                    <span class="text-[10px] text-cqi-muted uppercase tracking-widest hidden sm:block">continuous quality improvement 365 days</span>
                </div>
            </div>
            <a href="https://r78101029.github.io/cqi365_pages/" class="flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-cqi-primary transition-colors px-4 py-2 rounded-lg hover:bg-slate-50">
                <i class="fa-solid fa-house"></i>
                <span>回目錄</span>
            </a>
        </div>
    </header>

    <div class="flex pt-16 min-h-screen">
        
        <aside class="w-64 fixed h-[calc(100vh-4rem)] overflow-y-auto hidden lg:flex flex-col border-r border-slate-200 bg-white z-40">
            <div class="p-6">
                <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4">Content Navigation</h2>
                <nav class="space-y-1">
                    <a href="#hero" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-rocket w-5 opacity-70"></i> 導讀
                    </a>
                    <a href="#section-1" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-brain w-5 opacity-70"></i> 01 核心哲學
                    </a>
                    <a href="#section-2" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-folder-tree w-5 opacity-70"></i> 02 架構與初始化
                    </a>
                    <a href="#section-3" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-flask w-5 opacity-70"></i> 03 開發與實驗
                    </a>
                    <a href="#section-4" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-file-pdf w-5 opacity-70"></i> 04 論文自動化
                    </a>
                    <a href="#section-5" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-brands fa-git-alt w-5 opacity-70"></i> 05 版本控制
                    </a>
                    <a href="#appendix" class="nav-link block px-4 py-3 text-sm text-slate-600 hover:bg-slate-50 hover:text-cqi-primary rounded-l-lg transition-all duration-200 border-r-4 border-transparent">
                        <i class="fa-solid fa-table-list w-5 opacity-70"></i> 附錄：速查表
                    </a>
                </nav>
            </div>
            <div class="mt-auto p-6 border-t border-slate-100">
                <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
                    <p class="text-xs text-slate-500 font-medium mb-1">Generated by</p>
                    <div class="flex items-center gap-2 text-cqi-primary font-bold">
                        <i class="fa-solid fa-robot"></i> Gemini AI
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-1 lg:ml-64 w-full">
            
            <section id="hero" class="relative h-[400px] flex items-center justify-center bg-cover bg-center bg-no-repeat" style="background-image: url('https://cqi365.net/wp-content/uploads/2024/06/Twitter_Header_Image.png');">
                <div class="absolute inset-0 hero-overlay"></div>
                <div class="relative z-10 text-center px-4 max-w-4xl mx-auto text-white reveal-on-scroll">
                    <div class="inline-block px-3 py-1 mb-4 border border-teal-400 rounded-full bg-teal-900/50 backdrop-blur-sm text-teal-300 text-sm font-mono">
                        Data Science Research Workflow
                    </div>
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 leading-tight tracking-tight">
                        Antigravity <span class="text-teal-400">Research Manual</span>
                    </h1>
                    <p class="text-lg md:text-xl text-slate-200 max-w-2xl mx-auto leading-relaxed">
                        為資料科學家打造的「代理優先 (Agent-First)」研究工作流指南。<br>
                        從程式碼、實驗到 LaTeX 論文，讓 AI 成為您的最佳研究助理。
                    </p>
                    <div class="mt-8">
                        <a href="#section-1" class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-teal-900 bg-teal-100 hover:bg-white transition-colors duration-200 shadow-lg">
                            開始閱讀 <i class="fa-solid fa-arrow-down ml-2"></i>
                        </a>
                    </div>
                </div>
            </section>

            <div class="max-w-4xl mx-auto px-4 sm:px-8 py-12 space-y-24">

                <section id="section-1" class="reveal-on-scroll scroll-mt-24">
                    <div class="border-l-4 border-cqi-primary pl-4 mb-8">
                        <span class="text-cqi-primary font-bold text-sm uppercase tracking-wider">Part 01</span>
                        <h2 class="text-3xl font-bold text-slate-800 mt-1">思維轉變與核心哲學</h2>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 mb-8">
                        <div class="flex items-start gap-4 mb-4">
                            <div class="p-3 bg-teal-50 rounded-lg text-cqi-primary">
                                <i class="fa-solid fa-chess-queen text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">1.1 從 Coder 到 Architect</h3>
                                <p class="text-slate-600 mb-4">
                                    使用 Antigravity 時，您不再只是負責撰寫每一行程式碼的「建築工人」，而是設計實驗藍圖的<strong>「架構師」</strong>。
                                    您定義<strong>意圖 (Intent)</strong>，例如「我要比較 A 模型和 B 模型在資料集 C 上的表現」，而 Antigravity Agent 負責<strong>實作 (Implementation)</strong>。
                                </p>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6 mt-6">
                            <div class="bg-red-50 p-6 rounded-lg border border-red-100">
                                <div class="flex items-center gap-2 text-red-700 font-bold mb-3">
                                    <i class="fa-solid fa-circle-xmark"></i> 傳統模式
                                </div>
                                <p class="text-sm text-slate-600">手動建立資料夾、複製貼上 LaTeX 表格、寫 boilerplate code、手動跑實驗。</p>
                            </div>
                            <div class="bg-emerald-50 p-6 rounded-lg border border-emerald-100">
                                <div class="flex items-center gap-2 text-emerald-700 font-bold mb-3">
                                    <i class="fa-solid fa-circle-check"></i> Antigravity 模式
                                </div>
                                <p class="text-sm text-slate-600">定義規則 (Rules)、審核計畫 (Plan)、自動化管線 (Pipelines)、專注於結果分析。</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-8">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="p-2 bg-yellow-50 rounded text-yellow-600">
                                <i class="fa-solid fa-bolt text-lg"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-800">1.2 代理協作模式</h3>
                        </div>
                        <div class="space-y-4">
                            <div class="flex gap-4 p-4 rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors">
                                <div class="flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold">1</div>
                                <div>
                                    <h4 class="font-bold text-slate-900">Deep Think Mode (深思模式)</h4>
                                    <p class="text-sm text-slate-500 mt-1">當您需要設計複雜演算法、推導數學公式或規劃整個專案架構時使用。Agent 會先產出完整的規劃文件，經您核准後才執行。</p>
                                </div>
                            </div>
                            <div class="flex gap-4 p-4 rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors">
                                <div class="flex-shrink-0 w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 font-bold">2</div>
                                <div>
                                    <h4 class="font-bold text-slate-900">Fast Act Mode (快手模式)</h4>
                                    <p class="text-sm text-slate-500 mt-1">處理檔案搬移、格式轉換、撰寫單元測試或簡單的 Bug 修復。Agent 直接執行操作，速度極快。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="section-2" class="reveal-on-scroll scroll-mt-24">
                    <div class="border-l-4 border-cqi-primary pl-4 mb-8">
                        <span class="text-cqi-primary font-bold text-sm uppercase tracking-wider">Part 02</span>
                        <h2 class="text-3xl font-bold text-slate-800 mt-1">專案架構與初始化</h2>
                    </div>

                    <p class="text-lg text-slate-600 mb-6">
                        好的開始是成功的一半。透過設定「專案憲法」，您可以確保 Agent 始終遵循學術標準。
                    </p>

                    <div class="code-window mb-8">
                        <div class="code-header">
                            <div class="code-dots">
                                <div class="dot dot-red"></div>
                                <div class="dot dot-yellow"></div>
                                <div class="dot dot-green"></div>
                            </div>
                            <span class="text-slate-400 text-xs font-mono">.antigravity/rules.md</span>
                            <button class="text-slate-400 hover:text-white transition-colors" onclick="copyCode('rules-code')">
                                <i class="fa-regular fa-copy"></i>
                            </button>
                        </div>
                        <div class="p-6 bg-[#0f172a] overflow-x-auto">
<pre class="text-sm text-emerald-400 font-mono leading-relaxed" id="rules-code">
# Persona
You are a Senior Data Scientist and Academic Researcher. 
Your goal is to produce reproducible, high-quality research code.

# Hard Constraints
1. **Data Integrity**: 
   - NEVER modify files in `data/raw`. 
   - Processed data must go to `data/processed`.
2. **Path Management**: 
   - ALWAYS use relative paths.
   - Use `pathlib` for all file operations.
3. **Visualization**: 
   - Save all plots as BOTH `.png` (for preview) and `.pdf` (for LaTeX).
   - Use strict dpi=300 for raster images.
4. **Documentation**:
   - Every function must have Google-style docstrings.
   - Include type hints for all arguments.
</pre>
                        </div>
                    </div>

                    <div class="bg-white border border-slate-200 rounded-xl p-8 mb-8 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-teal-50 rounded-bl-full -mr-4 -mt-4"></div>
                        <h3 class="text-xl font-bold mb-6 relative z-10"><i class="fa-solid fa-sitemap text-cqi-primary mr-2"></i> 標準化目錄結構 (The Blueprint)</h3>
                        <pre class="font-mono text-sm text-slate-700 leading-7 bg-slate-50 p-6 rounded-lg border border-slate-100">
Project_Root/
├── .antigravity/        <span class="text-slate-400"># Agent 規則與記憶</span>
├── data/                <span class="text-slate-400"># 資料湖</span>
│   ├── raw/             <span class="text-red-500 text-xs font-bold">[Read-Only]</span>
│   ├── processed/
│   └── external/
├── src/                 <span class="text-slate-400"># 核心原始碼 (模組化)</span>
│   ├── data_loader.py
│   ├── models.py
│   └── visualization.py
├── notebooks/           <span class="text-slate-400"># 探索性分析 (Sandboxes)</span>
├── paper/               <span class="text-slate-400"># 論文區</span>
│   ├── figures/         <span class="text-cqi-primary text-xs font-bold">[Auto-Gen]</span>
│   ├── tables/          <span class="text-cqi-primary text-xs font-bold">[Auto-Gen]</span>
│   └── main.tex
├── experiments/         <span class="text-slate-400"># 實驗 Log 與權重</span>
└── environment.yml</pre>
                    </div>

                    <div class="bg-gradient-to-r from-teal-700 to-cyan-800 rounded-lg p-6 text-white shadow-lg">
                        <h4 class="font-bold mb-2 flex items-center"><i class="fa-solid fa-terminal mr-2"></i> 一鍵初始化 Prompt</h4>
                        <p class="text-teal-100 italic text-sm font-mono border-l-2 border-teal-400 pl-4 py-1">
                            "Initialize a new research project for <strong>[Your Topic]</strong>. Use the <strong>Academic Standard structure</strong>. Create the `.antigravity/rules.md` focusing on reproducibility. Setup a virtual environment for PyTorch and initialize a Git repository."
                        </p>
                    </div>
                </section>

                <section id="section-3" class="reveal-on-scroll scroll-mt-24">
                    <div class="border-l-4 border-cqi-primary pl-4 mb-8">
                        <span class="text-cqi-primary font-bold text-sm uppercase tracking-wider">Part 03</span>
                        <h2 class="text-3xl font-bold text-slate-800 mt-1">開發與實驗</h2>
                    </div>

                    <div class="mb-10">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">Agentic Coding (代理協作編程)</h3>
                        <p class="text-slate-600 mb-6">別再手動寫重複的 Pandas 處理程式碼。讓 Agent 根據您的意圖生成高品質的模組。</p>
                        
                        <div class="grid lg:grid-cols-2 gap-6">
                            <div class="group bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:border-cqi-primary transition-all">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600">
                                        <i class="fa-solid fa-magnifying-glass-chart"></i>
                                    </div>
                                    <h4 class="font-bold text-slate-800">1. 探索階段 (Notebooks)</h4>
                                </div>
                                <p class="text-sm text-slate-600 mb-4">使用 Notebook 進行快速視覺化，但不寫複雜邏輯。</p>
                                <div class="bg-slate-800 p-3 rounded text-xs font-mono text-slate-300">
                                    <span class="text-emerald-400 font-bold">Prompt:</span> "Load `data/raw/data.csv`. Perform EDA to check for distribution shifts. Plot histograms for all numerical columns."
                                </div>
                            </div>
                            <div class="group bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:border-cqi-primary transition-all">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600">
                                        <i class="fa-solid fa-code"></i>
                                    </div>
                                    <h4 class="font-bold text-slate-800">2. 封裝階段 (Refactoring)</h4>
                                </div>
                                <p class="text-sm text-slate-600 mb-4">當 Notebook 邏輯確定後，指揮 Agent 將其轉為 `src/` 模組。</p>
                                <div class="bg-slate-800 p-3 rounded text-xs font-mono text-slate-300">
                                    <span class="text-emerald-400 font-bold">Prompt:</span> "Extract the cleaning logic from the notebook into `src/preprocessing.py`. Ensure it's a pure function with type hints."
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-50 border border-slate-200 rounded-xl p-8">
                        <div class="flex items-center gap-3 mb-4">
                            <i class="fa-solid fa-microchip text-cqi-primary text-xl"></i>
                            <h3 class="text-xl font-bold text-slate-800">自動化實驗 (Smart Workflows)</h3>
                        </div>
                        <p class="mb-4 text-slate-600">利用 `.antigravity/workflows/` 來標準化您的實驗流程。</p>
                        
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-4 border-b border-slate-100 pb-2">實驗迴圈指引 (The Loop)</h4>
                            <ol class="space-y-4">
                                <li class="flex gap-3 text-sm text-slate-700">
                                    <span class="font-bold text-cqi-primary">01.</span>
                                    <span><strong>定義設定檔</strong>：使用 YAML 定義超參數 (Hyperparameters)。</span>
                                </li>
                                <li class="flex gap-3 text-sm text-slate-700">
                                    <span class="font-bold text-cqi-primary">02.</span>
                                    <span><strong>執行指令</strong>：<code class="bg-slate-100 px-2 py-0.5 rounded text-cqi-secondary border border-slate-200">@agent Run experiment with batch_size=[16, 32]</code></span>
                                </li>
                                <li class="flex gap-3 text-sm text-slate-700">
                                    <span class="font-bold text-cqi-primary">03.</span>
                                    <span><strong>自我修復 (Self-Healing)</strong>：如果因為記憶體不足 (OOM) 崩潰，Agent 會自動捕捉錯誤，降低 Batch Size 並重試。</span>
                                </li>
                                <li class="flex gap-3 text-sm text-slate-700">
                                    <span class="font-bold text-cqi-primary">04.</span>
                                    <span><strong>結果紀錄</strong>：所有 Metrics 自動寫入 `experiments/logs.json`。</span>
                                </li>
                            </ol>
                        </div>
                    </div>
                </section>

                <section id="section-4" class="reveal-on-scroll scroll-mt-24">
                    <div class="border-l-4 border-cqi-primary pl-4 mb-8">
                        <span class="text-cqi-primary font-bold text-sm uppercase tracking-wider">Part 04</span>
                        <h2 class="text-3xl font-bold text-slate-800 mt-1">論文自動化管線</h2>
                    </div>

                    <div class="bg-gradient-to-br from-cqi-primary to-cqi-secondary rounded-xl p-8 text-white mb-10 shadow-md">
                        <div class="flex items-center gap-4 mb-4">
                            <i class="fa-solid fa-file-invoice text-3xl opacity-80"></i>
                            <div>
                                <h3 class="text-2xl font-bold">Data-to-Document Pipeline</h3>
                                <p class="text-teal-100 text-sm opacity-90">Antigravity 最強大的功能：打通程式碼輸出與論文內文的隔閡。</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-3">
                                <span class="bg-teal-100 text-teal-800 text-xs font-bold px-2 py-1 rounded">Step 1</span>
                                <h4 class="font-bold text-slate-800">自動生成 LaTeX 表格</h4>
                            </div>
                            <p class="text-sm text-slate-600 mb-3">不要再手動填表。讓 Python 直接輸出 `.tex` 檔案。</p>
                            <div class="bg-slate-800 p-4 rounded-lg text-xs font-mono text-slate-300 shadow-inner">
                                <span class="text-emerald-400">Prompt:</span> "Read `experiments/logs.json`. Create a comparison table of Accuracy and F1-score for all models. Save it as `paper/tables/results.tex`. Use `booktabs` style."
                            </div>
                        </div>
                        
                        <div class="hidden md:block w-px bg-slate-200"></div>

                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-3">
                                <span class="bg-teal-100 text-teal-800 text-xs font-bold px-2 py-1 rounded">Step 2</span>
                                <h4 class="font-bold text-slate-800">動態圖表更新</h4>
                            </div>
                            <p class="text-sm text-slate-600 mb-3">確保圖表永遠是最新的，且格式符合論文要求。</p>
                            <div class="bg-slate-800 p-4 rounded-lg text-xs font-mono text-slate-300 shadow-inner">
                                <span class="text-emerald-400">Prompt:</span> "Generate the confusion matrix. Save as PDF in `paper/figures/cm.pdf`. Update `paper/main.tex` to reference this new figure."
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                        <h4 class="font-bold text-amber-800 mb-1"><i class="fa-solid fa-pen-nib mr-2"></i> Agent 輔助寫作</h4>
                        <p class="text-sm text-amber-900 mb-2">您可以要求 Agent 閱讀您的程式碼來撰寫論文的方法論部分：</p>
                        <code class="block w-full bg-white/50 p-2 rounded text-xs font-mono text-amber-900">"Read `src/model.py` and write the 'Model Architecture' section in LaTeX. Focus on the attention mechanism."</code>
                    </div>
                </section>

                <section id="section-5" class="reveal-on-scroll scroll-mt-24">
                    <div class="border-l-4 border-cqi-primary pl-4 mb-8">
                        <span class="text-cqi-primary font-bold text-sm uppercase tracking-wider">Part 05</span>
                        <h2 class="text-3xl font-bold text-slate-800 mt-1">版本控制與同步</h2>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="md:col-span-1">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Semantic Git</h3>
                            <p class="text-sm text-slate-600">Antigravity Agent 會分析您的程式碼變更，自動撰寫有意義的 Commit Message。</p>
                        </div>
                        <div class="md:col-span-2 bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4">
                            <div class="text-center px-4 border-r border-slate-100">
                                <i class="fa-solid fa-code-commit text-2xl text-slate-400"></i>
                                <div class="text-[10px] text-slate-400 mt-1">Commit</div>
                            </div>
                            <div>
                                <span class="bg-slate-100 text-slate-600 text-xs px-2 py-1 rounded font-mono border border-slate-200">Commit Msg</span>
                                <p class="text-sm font-mono text-slate-700 mt-2">feat(model): add dropout layer to LSTM to prevent overfitting</p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <i class="fa-brands fa-github text-slate-700"></i> CI/CD for Science
                    </h3>
                    <p class="text-slate-600 mb-4">利用 GitHub Actions 在每次 Push 時自動編譯論文 PDF。</p>

                    <div class="code-window">
                        <div class="code-header">
                            <div class="code-dots">
                                <div class="dot dot-red"></div>
                                <div class="dot dot-yellow"></div>
                                <div class="dot dot-green"></div>
                            </div>
                            <span class="text-slate-400 text-xs font-mono">.github/workflows/paper.yml</span>
                        </div>
                        <div class="p-6 bg-[#0f172a] overflow-x-auto">
<pre class="text-xs text-purple-300 font-mono whitespace-pre leading-relaxed">
name: Compile Paper
on: [push]
jobs:
  build_latex:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Compile LaTeX document
        uses: xu-cheng/latex-action@v2
        with:
          root_file: main.tex
          working_directory: paper/
      - name: Upload PDF
        uses: actions/upload-artifact@v3
        with:
          name: paper-pdf
          path: paper/main.pdf
</pre>
                        </div>
                    </div>
                </section>

                <section id="appendix" class="reveal-on-scroll scroll-mt-24 mb-12">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-slate-800">附錄：常用指令速查表</h2>
                        <i class="fa-solid fa-list-check text-2xl text-slate-300"></i>
                    </div>

                    <div class="overflow-hidden border border-slate-200 rounded-xl shadow-sm bg-white">
                        <table class="min-w-full text-sm">
                            <thead class="bg-teal-50 text-cqi-primary">
                                <tr>
                                    <th class="py-4 px-6 text-left font-bold border-b border-teal-100 w-1/4">目標 (Goal)</th>
                                    <th class="py-4 px-6 text-left font-bold border-b border-teal-100">指令範例 (Prompt Example)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="py-4 px-6 font-medium text-slate-700">專案初始化</td>
                                    <td class="py-4 px-6 text-slate-600 font-mono text-xs">"Create a new workspace with Academic structure."</td>
                                </tr>
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="py-4 px-6 font-medium text-slate-700">資料清理</td>
                                    <td class="py-4 px-6 text-slate-600 font-mono text-xs">"Check `data/raw` for missing values and propose a cleaning strategy."</td>
                                </tr>
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="py-4 px-6 font-medium text-slate-700">重構程式碼</td>
                                    <td class="py-4 px-6 text-slate-600 font-mono text-xs">"Refactor `analysis.ipynb` into modular scripts in `src/`."</td>
                                </tr>
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="py-4 px-6 font-medium text-slate-700">生成表格</td>
                                    <td class="py-4 px-6 text-slate-600 font-mono text-xs">"Convert this DataFrame to a LaTeX table code and save to `paper/tables`."</td>
                                </tr>
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="py-4 px-6 font-medium text-slate-700">解釋結果</td>
                                    <td class="py-4 px-6 text-slate-600 font-mono text-xs">"Analyze the trend in Figure 3 and write a paragraph for the Discussion section."</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

            </div>

            <footer class="bg-white border-t border-slate-200 mt-auto">
                <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
                    <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                        <div class="flex items-center gap-2">
                             <div class="w-6 h-6 bg-cqi-primary rounded flex items-center justify-center text-white text-xs">
                                <i class="fa-solid fa-hospital-user"></i>
                            </div>
                            <span class="font-bold text-cqi-primary">CQI365</span>
                        </div>
                        <p class="text-center text-sm text-slate-400">
                            &copy; 2025 Antigravity User Guide. Designed for <a href="http://Cqi365.net" class="hover:text-cqi-primary underline decoration-dotted">Cqi365.net</a>
                        </p>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. Fade-in-up Animation (Intersection Observer)
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Only animate once
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal-on-scroll').forEach((el) => {
                observer.observe(el);
            });

            // 2. Scrollspy for Sidebar Navigation
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');
            const mainContent = document.querySelector('main'); // Watch scrolling on main if layout dictates, or window

            // Using window scroll event for the layout where window scrolls
            window.addEventListener('scroll', () => {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    // Offset for fixed header
                    if (window.scrollY >= (sectionTop - 150)) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            // 3. Smooth Scroll correction for fixed header
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if(targetElement){
                        const headerOffset = 80;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                    
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                    }
                });
            });
        });

        // 4. Clipboard Function
        function copyCode(id) {
            const code = document.getElementById(id).innerText;
            navigator.clipboard.writeText(code).then(() => {
                // Simple feedback (could be a toast in a full framework)
                const btn = document.querySelector(`button[onclick="copyCode('${id}')"]`);
                const originalIcon = btn.innerHTML;
                btn.innerHTML = '<i class="fa-solid fa-check text-green-500"></i>';
                setTimeout(() => {
                    btn.innerHTML = originalIcon;
                }, 2000);
            });
        }
    </script>
</body>
</html>
