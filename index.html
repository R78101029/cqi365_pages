<script>
  // 改成你的 user / repo
  const user = "R78101029";
  const repo = "cqi365_pages";
  const folder = "presentations";  // 新增：要監控的子資料夾

  async function loadFiles() {
    const ul = document.getElementById("file-list");
    ul.innerHTML = "<li>載入中...</li>";
    try {
      // 這裡多加 folder，改成讀取 presentations 資料夾
      const res = await fetch(`https://api.github.com/repos/${user}/${repo}/contents/${folder}/`);
      const data = await res.json();

      // 過濾 presentations 資料夾中的 .html 檔
      const htmlFiles = data.filter(
        item => item.type === "file" &&
                item.name.endsWith(".html")
      );

      ul.innerHTML = "";
      htmlFiles.forEach(file => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        // 連結記得加上資料夾路徑
        a.href = `./${folder}/${file.name}`;
        a.textContent = file.name;
        li.appendChild(a);
        ul.appendChild(li);
      });

      if (htmlFiles.length === 0) {
        ul.innerHTML = "<li>目前 presentations 資料夾沒有 HTML 檔案。</li>";
      }
    } catch (e) {
      ul.innerHTML = "<li>載入失敗，請稍後再試。</li>";
      console.error(e);
    }
  }

  loadFiles();
</script>
